CREATE TABLE Roles (
    id_role INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(20) NOT NULL UNIQUE,
    description VARCHAR(20) NOT NULL
);

CREATE TABLE Users (
    id_user INT AUTO_INCREMENT PRIMARY KEY,
    login VARCHAR(20) NOT NULL UNIQUE,
    password VARCHAR(15) NOT NULL,
    id_role INT,
    FOREIGN KEY (id_role) REFERENCES Roles(id_role)
);

CREATE TABLE Categories (
    id_categories INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(20) NOT NULL UNIQUE
);

CREATE TABLE Components (
    id_component INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    description VARCHAR(100),
    date_added DATE NOT NULL,
    technical_conditions VARCHAR(20) NOT NULL,
    cost DECIMAL(9, 2) NOT NULL,
    id_categories INT,
    FOREIGN KEY (id_categories) REFERENCES Categories(id_categories),
    adreess VARCHAR(50) NOT NULL
);

CREATE TABLE Declarations (
    id_declaration INT AUTO_INCREMENT PRIMARY KEY,
    id_user INT,
    FOREIGN KEY (id_user) REFERENCES Users(id_user),
    declaration VARCHAR(50) NOT NULL,
    date_declaration DATE NOT NULL,
    id_component INT,
    FOREIGN KEY (id_component) REFERENCES Components(id_component)
);

CREATE TABLE Repaired (
    id_repair INT AUTO_INCREMENT PRIMARY KEY,
    date_repair DATE NOT NULL,
    description VARCHAR(50),
    id_component INT,
    FOREIGN KEY (id_component) REFERENCES Components(id_component)
);

CREATE TABLE Rating (
    id_rating INT AUTO_INCREMENT PRIMARY KEY,
    id_component INT,
    FOREIGN KEY (id_component) REFERENCES Components(id_component),
    id_user INT,
    FOREIGN KEY (id_user) REFERENCES Users(id_user),
    grade INT
);

CREATE TABLE BreakdownLog (
    id_breakdown INT AUTO_INCREMENT PRIMARY KEY,
    id_component INT,
    FOREIGN KEY (id_component) REFERENCES Components(id_component),
    date_last_breakdown DATE NOT NULL
);

CREATE TABLE Removed (
    id_remove INT AUTO_INCREMENT PRIMARY KEY,
    date_remove DATE NOT NULL,
    reason VARCHAR(50) NOT NULL,
    id_component INT,
    FOREIGN KEY (id_component) REFERENCES Components(id_component)
);